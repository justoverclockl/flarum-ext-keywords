(()=>{var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const o=flarum.core.compat.app;var r=t.n(o);const a=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/components/CommentPost"];var s=t.n(n);function l(){var t=this.attrs.post;if(t){var e=JSON.parse(r().forum.attribute("AdDef"));if(0===Object.keys(e).length)return;var o=!0===r().forum.attribute("ParseOnce")?"i":"gi",a=new RegExp("\\b("+Object.keys(e).join("|")+")\\b(?![^<]*>|[^<>]*</[^p])",o);this.attrs.post.data.attributes.contentHtml=t.contentHtml().replace(a,(function(t){var o=e[t.toLowerCase()];return o?'<span class="definition" data-tooltip="'+o+'">'+t+"</span>":t}))}}const i=flarum.core.compat["components/IndexPage"];var c=t.n(i);function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}const d=flarum.core.compat["components/Page"];var f=t.n(d);const p=flarum.core.compat["common/helpers/listItems"];var y=t.n(p),v=function(t){var e,o;function a(){var e;return(e=t.call(this)||this).displayCount=10,e}o=t,(e=a).prototype=Object.create(o.prototype),e.prototype.constructor=e,u(e,o);var n=a.prototype;return n.oncreate=function(e){t.prototype.oncreate.call(this,e),r().setTitle(r().translator.trans("flarum-ext-keywords.forum.pagetitle")),r().setTitleCount(0)},n.loadMore=function(){this.displayCount+=10},n.view=function(){var t=this,e=JSON.parse(r().forum.attribute("AdDef"));return console.log(e),window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("filter");t.addEventListener("keyup",(function(){var e=t.value;document.querySelectorAll(".defContainer").forEach((function(t){t.textContent.search(new RegExp(e,"i"))<0?t.style.display="none":t.style.display="block"}))}))})),m("div",{className:"IndexPage"},c().prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,y()(c().prototype.sidebarItems().toArray()))),m("div",{className:"IndexPage-results sideNavOffset"},m("h1",{className:"glostitle"},r().translator.trans("flarum-ext-keywords.forum.pagetitle")),m("div",{className:"rowgl"},m("div",{className:"columngl"},m("div",{className:"leftdiv"},m("h3",{className:"tagline"},r().translator.trans("flarum-ext-keywords.forum.tagline")))),m("div",{className:"columngl"},m("div",{className:"rightdiv"},m("form",{className:"searchform cf"},m("input",{id:"filter",type:"text",placeholder:r().translator.trans("flarum-ext-keywords.forum.searchtext")}))))),m("div",{className:"containDef"},Object.keys(e).sort().slice(0,this.displayCount).map((function(t){return m("div",{className:"defContainer"},m("div",{className:"defTitle"},m("strong",null,r().translator.trans("flarum-ext-keywords.forum.term")),": ",t),m("div",{className:"defDesc"},m("strong",null,r().translator.trans("flarum-ext-keywords.forum.definition")),": ",e[t]))}))),m("div",{className:"loadMoreContainer"},Object.keys(e).length>this.displayCount&&m("button",{onclick:function(){return t.loadMore()},className:"Button loadMoreDefButton"},r().translator.trans("flarum-ext-keywords.forum.loadMore")))))))},a}(f());const g=flarum.core.compat["components/LinkButton"];var b=t.n(g);r().initializers.add("justoverclock/flarum-ext-keywords",(function(){(0,a.extend)(s().prototype,"oninit",l)})),r().routes.GlossaryPage={path:"/glossary",component:v},(0,a.extend)(c().prototype,"navItems",(function(t){return t.add("Glossary",m(b(),{href:r().route("GlossaryPage"),icon:"fas fa-atlas"},r().translator.trans("flarum-ext-keywords.forum.title")),100),t}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map